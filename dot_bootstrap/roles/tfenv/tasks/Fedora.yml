---
- name: "tfenv | {{ ansible_distribution }} | Check if tfenv is installed"
  ansible.builtin.stat:
    path: "{{ ansible_env.HOME }}/.tfenv"
  register: tfenv_installed

- name: "tfenv | {{ ansible_distribution }} | Clone tfenv"
  ansible.builtin.git:
    repo: https://github.com/tfutils/tfenv.git
    dest: "{{ ansible_env.HOME }}/.tfenv"
    depth: 1
  become: false
  when: not tfenv_installed.stat.exists
