---
- name: "asdf | {{ ansible_distribution }} | Check if asdf is installed"
  ansible.builtin.stat:
    path: "{{ ansible_env.HOME }}/.asdf"
  register: asdf_installed

- name: "asdf | {{ ansible_distribution }} | Clone asdf"
  ansible.builtin.git:
    repo: https://github.com/asdf-vm/asdf.git
    dest: "{{ ansible_env.HOME }}/.asdf"
    depth: 1
  become: false
  when: not asdf_installed.stat.exists
